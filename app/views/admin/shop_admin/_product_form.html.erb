<%= form_with model: @product, url: request.fullpath, method: request.request_method_symbol, local: true do |f| %>
  <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
  <div class="input-group"><label>标题</label><%= f.text_field :title %></div>
  <div class="input-group"><label>Slug</label><%= f.text_field :slug %></div>
  <div class="input-group"><label>价格(分)</label><%= f.number_field :price_cents %></div>
  <div class="input-group"><label>币种</label><%= f.text_field :currency %></div>
  <div class="input-group"><label>主图URL</label><%= f.text_field :image_url %></div>
  <div class="input-group"><label>库存</label><%= f.number_field :stock %></div>
  <div class="input-group"><label>是否发布</label><%= f.check_box :published %></div>
  <div class="input-group"><label>规格（JSON数组）</label><textarea name="shop_product[specs_json]" rows="4"><%= (@product.specs || []).to_json %></textarea></div>
  <div class="input-group"><label>详情</label><%= f.text_area :description, rows: 6 %></div>
  <div><button class="btn btn-primary" type="submit">保存</button> <a class="btn" href="/admin/plugins/shop/products">返回</a></div>
<% end %>
<style>
.input-group { margin: 8px 0; display:flex; gap: 8px; align-items: center; }
.input-group label { width: 120px; }
.input-group input[type=text], .input-group input[type=number], .input-group textarea { width: 420px; }
</style>